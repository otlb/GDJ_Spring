<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
	<!-- namespace는 중복 X -->
	<!-- mapper namespace는 비우면 에러  -->
	<!-- 해당 mapper를 사용할 DAO의 풀패키지명으로 작성 -->
	<mapper namespace="com.winter.app.regions.RegionDAO">
		<!-- detail  -->
		<!-- id는 DAO의 메서드명 -->
		<select id="getDetail" resultType="RegionDTO" parameterType="RegionDTO">
			SELECT * FROM REGIONS WHERE REGION_ID=#{region_id} 
		</select>
		
		<!-- list -->
		<select id="getList" resultType="RegionDTO" parameterType="Pager">
			SELECT * FROM 
			(
				SELECT ROWNUM R,RG.*FROM 
					( 	
						SELECT * FROM REGIONS 
						ORDER BY REGION_ID DESC
					 )RG
			)
			WHERE R BETWEEN #{startRow} AND #{lastRow}
		</select>
		
		<!-- add -->		
		<insert id="add" parameterType="RegionDTO" >
			INSERT INTO REGIONS VALUES(EMPLOYEES_SEQ.NEXTVAL,#{region_name})		
		</insert>
		
		<!-- update -->
		<update id="update" parameterType="RegionDTO" >
			UPDATE REGIONS SET REGION_NAME=#{region_name} WHERE REGION_ID=#{region_id}
		</update>
		
		<!-- delete -->
		<delete id="delete" parameterType="RegionDTO"> 
			DELETE REGIONS WHERE REGION_ID = #{region_id}
		</delete>
		
		
		
		
	</mapper>